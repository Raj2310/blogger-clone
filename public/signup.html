<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Blog Home | Sign up</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/signup.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>
		<div class="container">
		        <div class="row centered-form">
		        <div class="col-xs-12 col-sm-8 col-md-4 col-sm-offset-2 col-md-offset-4">
		        	<div class="panel panel-default">
		        		<div class="panel-heading">
					    		<h3 class="panel-title">Please sign up for Bootsnipp <small>It's free!</small></h3>
					 			</div>
					 			<div class="panel-body">
					    		<form role="form">
					    			<div class="row">
					    				<div class="col-xs-6 col-sm-6 col-md-6">
					    					<div class="form-group">
					                <input type="text" name="firstName" id="firstName" class="form-control input-sm" placeholder="First Name">
					    					</div>
					    				</div>
					    				<div class="col-xs-6 col-sm-6 col-md-6">
					    					<div class="form-group">
					    						<input type="text" name="lastName" id="lastName" class="form-control input-sm" placeholder="Last Name">
					    					</div>
					    				</div>
					    			</div>

					    			<div class="form-group">
					    				<input type="email" name="email" id="email" class="form-control input-sm" placeholder="Email Address">
					    			</div>

					    			<div class="row">
					    				<div class="col-xs-6 col-sm-6 col-md-6">
					    					<div class="form-group">
					    						<input type="password" name="password" id="password" class="form-control input-sm" placeholder="Password">
					    					</div>
					    				</div>
					    				<div class="col-xs-6 col-sm-6 col-md-6">
					    					<div class="form-group">
					    						<input type="password" name="confirmPassword" id="confirmPassword" class="form-control input-sm" placeholder="Confirm Password">
					    					</div>
					    				</div>
					    			</div>
					    			<input type="text" placeholder="Enter the signup Key" id="signUpKey" name="signupKey" required>


					    			<input type="button" value="Register" id="signUpButton" class="btn btn-info btn-block">
					    		
					    		</form>
					    	</div>
			    		</div>
		    		</div>
		    	</div>
		    </div>
		      <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <script type="text/javascript">
    $(document).ready(function(){
    	 $.get('/userinfo',function(data,status){
            if(data.status==1){
              window.location.replace("newStory.html");
            }
        });
    	$("#signUpButton").click(function(){
    		var signUpKey=$("#signUpKey").val();
    		var firstName=$("#firstName").val();
    		var lastName=$("#lastName").val();
    		var email=$("#email").val();
    		var password=$("#password").val();
    		var confirmPassword=$("#confirmPassword").val();
    		if(password==confirmPassword){
    			$.post('/signup',{firstName:firstName,lastName:lastName, signUpKey:signUpKey,email:email,password:password},function(data, status){
    				console.log(data);
    				if(data.status===0){
    					alert(data.msg);
						
    				}
    				else{
    					window.location.replace("newStory.html");

    				}
    			});
    		}
    	});
    });

    </script>
    </body>
</html>